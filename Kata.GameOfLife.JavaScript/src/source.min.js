var GameOfLife;(function(n){var t=function(){function n(n,t){this.X=n,this.Y=t}return n.prototype.equals=function(n){return n==null||n===undefined?!1:this.X==n.X&&this.Y==n.Y},n}(),i;n.Cell=t,i=function(){function n(n){n===undefined&&(n=[]),this.aliveCells=n}return n.prototype.isAlive=function(n){var t=!1;return _.each(this.aliveCells,function(i){n.equals(i)&&(t=!0)}),t},n.prototype.getNeighborsOf=function(n){var i=[];return _.each(_.range(-1,2),function(r){_.each(_.range(-1,2),function(u){var f=new t(n.X+r,n.Y+u);n.equals(f)==!1&&i.push(f)})}),i},n.prototype.getCountOfAliveNeighbors=function(n){var i=this.getNeighborsOf(n),t=0,r=this;return _.each(i,function(n){r.isAlive(n)&&t++}),t},n.prototype.getDeadNeighborsOf=function(n){var i=this,r=this.getNeighborsOf(n),t=[];return _.each(r,function(n){i.isAlive(n)==!1&&t.push(n)}),t},n.prototype.newGeneration=function(){var t=this.getAliveCandidates(this.aliveCells),i=this.getReviveCandidates(this.aliveCells);return new n(t.concat(i))},n.prototype.getAliveCandidates=function(n){var i=this,t=[];return _.each(n,function(n){var r=i.getCountOfAliveNeighbors(n);(r==2||r==3)&&t.push(n)}),t},n.prototype.getReviveCandidates=function(n){var t=this,i=[];return _.each(n,function(n){var r=t.getDeadNeighborsOf(n);_.each(r,function(n){t.getCountOfAliveNeighbors(n)==3&&t.containsCell(i,n)==!1&&i.push(n)})}),i},n.prototype.containsCell=function(n,t){var i=!1;return _.each(n,function(n){n.equals(t)&&(i=!0)}),i},n}(),n.Grid=i})(GameOfLife||(GameOfLife={}))